<!DOCTYPE html>
<html lang="tr">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#1e40af" />
    <meta
      name="description"
      content="QuickServe Personel - Merit Royal Diamond Otel"
    />

    <!-- PWA Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="default" />
    <meta name="apple-mobile-web-app-title" content="QuickServe" />

    <title>QuickServe - Personel</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json" />

    <!-- Icons -->
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="assets/icon-192.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="512x512"
      href="assets/icon-512.png"
    />
    <link rel="apple-touch-icon" href="assets/apple-touch-icon.png" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="assets/apple-touch-icon.png"
    />

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- HoÅŸ Geldiniz EkranÄ± -->
    <div id="welcome-screen" class="screen">
      <div class="container">
        <!-- Logo -->
        <div class="text-center mb-8">
          <img
            src="assets/logo.png"
            alt="Merit Royal Diamond"
            class="logo mx-auto"
          />
        </div>

        <!-- BaÅŸlÄ±k -->
        <div class="text-center mb-8">
          <h1 class="text-3xl font-bold text-gray-800 mb-2">
            QuickServe Personel
          </h1>
          <p class="text-lg text-gray-600">Servis taleplerini anÄ±nda alÄ±n</p>
        </div>

        <!-- Bildirim Ä°zni Butonu -->
        <div class="text-center">
          <button id="enable-notifications-btn" class="btn-primary">
            <span class="text-2xl mr-2">ğŸ””</span>
            Bildirimlere Ä°zin Ver
          </button>
          <p class="text-sm text-gray-500 mt-4">
            Servis taleplerini almak iÃ§in bildirim izni gereklidir
          </p>
        </div>
      </div>
    </div>

    <!-- Ana Ekran (Dashboard) -->
    <div id="dashboard-screen" class="screen hidden">
      <!-- Header -->
      <header class="bg-white shadow-sm py-4 px-6">
        <div class="flex items-center justify-between">
          <img src="assets/logo.png" alt="Merit Royal Diamond" class="h-12" />
          <div id="connection-status" class="status-badge online">
            <span class="status-dot"></span>
            <span class="status-text">Ã‡evrimiÃ§i</span>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="container py-8">
        <!-- Bildirim Durumu KartÄ± -->
        <div class="card mb-6">
          <div class="flex items-center justify-between">
            <div>
              <h2 class="text-xl font-semibold text-gray-800 mb-1">
                Bildirimler
              </h2>
              <p class="text-gray-600">Servis talepleri iÃ§in hazÄ±r</p>
            </div>
            <div class="notification-icon active">ğŸ””</div>
          </div>
        </div>

        <!-- Gelen Bildirimler KartÄ± -->
        <div id="notifications-card" class="card mb-6">
          <h3 class="text-lg font-semibold text-gray-800 mb-4">
            ğŸ“¬ Gelen Talepler
          </h3>
          <div id="notifications-list" class="space-y-3">
            <div class="text-center text-gray-500 py-8">HenÃ¼z talep yok</div>
          </div>
        </div>

        <!-- Bilgi KartÄ± -->
        <div class="card bg-blue-50 border-blue-200">
          <div class="text-center">
            <p class="text-blue-800 font-medium mb-2">ğŸ’¡ NasÄ±l Ã‡alÄ±ÅŸÄ±r?</p>
            <p class="text-blue-700 text-sm">
              ToplantÄ± salonlarÄ±ndan servis talebi geldiÄŸinde anÄ±nda bildirim
              alacaksÄ±nÄ±z. Uygulama arka planda Ã§alÄ±ÅŸÄ±rken bile bildirimler
              gelecektir.
            </p>
          </div>
        </div>

        <!-- PWA Kurulum Bilgisi -->
        <div
          id="install-prompt"
          class="card bg-green-50 border-green-200 hidden"
        >
          <div class="text-center">
            <p class="text-green-800 font-medium mb-2">ğŸ“± Ana Ekrana Ekle</p>
            <p class="text-green-700 text-sm mb-3">
              Daha kolay eriÅŸim iÃ§in uygulamayÄ± ana ekranÄ±nÄ±za ekleyebilirsiniz
            </p>
            <button id="install-btn" class="btn-secondary">
              Ana Ekrana Ekle
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- Hata EkranÄ± -->
    <div id="error-screen" class="screen hidden">
      <div class="container text-center">
        <div class="text-6xl mb-4">âš ï¸</div>
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Bir Sorun OluÅŸtu</h2>
        <p id="error-message" class="text-gray-600 mb-6">
          Bildirim izni alÄ±namadÄ±
        </p>
        <button id="retry-permission-btn" class="btn-primary">
          Tekrar Dene
        </button>
      </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-messaging-compat.js"></script>

    <!-- Configuration -->
    <script src="../config.js"></script>

    <!-- Firebase Config -->
    <script src="firebase-config.js"></script>

    <!-- App Logic -->
    <script src="app.js"></script>
  </body>
</html>
